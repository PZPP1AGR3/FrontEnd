<form [formGroup]="loginForm"
      (ngSubmit)="submit()"
      class="flex flex-column gap-2 w-full sm:w-24rem surface-100 p-3 border-round">
  <h1 class="text-center text-2xl mb-5">
    Sign-in to use CloudNotes
  </h1>
  <p-floatLabel>
    <input type="text"
           pInputText
           id="username"
           class="w-full"
           formControlName="username"/>
    <label for="username">Username</label>
  </p-floatLabel>
  <app-input-error [control]="username"
                   error="required">
    Username is required
  </app-input-error>
  <br/>
  <p-floatLabel>
    <p-password inputId="password"
                [feedback]="false"
                [toggleMask]="true"
                class="w-full"
                styleClass="w-full"
                inputStyleClass="w-full"
                formControlName="password"/>
    <label for="password">Password</label>
  </p-floatLabel>
  <app-input-error [control]="password"
                   error="required">
    Password is required
  </app-input-error>
  <br/>
  @if (hasError()) {
    <p-message text="An error occurred while signing in. Please, check your username and password."
               severity="error"/>
  }
  <div class="flex flex-row justify-content-between align-items-center">
    <p-checkbox label="Remember me"
                [binary]="true"
                formControlName="rememberMe"/>
    <p-button severity="success"
              [disabled]="loginForm.invalid"
              label="Sign in"
              [loading]="loading.signal()"
              type="submit"
              icon="pi pi-sign-in"/>
  </div>
  <div class="p-2 w-full text-center">
    <a href="/auth/register"
       class="text-xs text-gray-800 no-underline">
      New account? Register!
    </a>
  </div>
</form>
